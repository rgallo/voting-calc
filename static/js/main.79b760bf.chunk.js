(this["webpackJsonpvoting-calc"]=this["webpackJsonpvoting-calc"]||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(6),r=n.n(c),o=(n(15),n(9)),u=n(8),i=n(4),s=n.n(i),m=n(7),b=n(1),f=(n(17),function(){var e=function(e,t){var n,a=localStorage.getItem(e);n="true"===a||"false"!==a&&t;var c=l.a.useState(n),r=Object(b.a)(c,2),o=r[0],u=r[1];return l.a.useEffect((function(){localStorage.setItem(e,o)}),[e,o]),[o,u]},t=Object(a.useState)([["Loading...",1]]),n=Object(b.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),f=Object(b.a)(i,2),d=f[0],v=f[1],h=Object(a.useState)("http://nymillennials.rocks"),p=Object(b.a)(h,2),O=p[0],j=p[1],E=Object(a.useState)("?"),g=Object(b.a)(E,2),y=g[0],w=g[1],k=Object(a.useState)({}),S=Object(b.a)(k,2),x=S[0],C=S[1],W=Object(a.useState)(0),M=Object(b.a)(W,2),I=M[0],N=M[1],T=Object(a.useState)(!1),F=Object(b.a)(T,2),V=F[0],B=F[1],H=Object(a.useState)("our team"),J=Object(b.a)(H,2),L=J[0],P=J[1],Y=Object(a.useState)([]),_=Object(b.a)(Y,2),z=_[0],D=_[1],G=Object(a.useState)(Math.floor(100*Math.random())+1),K=Object(b.a)(G,2),R=K[0],$=(K[1],Object(a.useState)(!1)),q=Object(b.a)($,2),A=q[0],Q=q[1],U=Object(a.useState)([]),X=Object(b.a)(U,2),Z=X[0],ee=X[1],te=Object(a.useState)([]),ne=Object(b.a)(te,2),ae=ne[0],le=ne[1],ce=Object(a.useState)(!1),re=Object(b.a)(ce,2),oe=re[0],ue=re[1],ie=e("includeWills",!0),se=Object(b.a)(ie,2),me=se[0],be=se[1],fe=e("orderWimdys",!1),de=Object(b.a)(fe,2),ve=de[0],he=de[1],pe=e("showWimdyPct",!1),Oe=Object(b.a)(pe,2),je=Oe[0],Ee=Oe[1],ge=function(){var e=Object(m.a)(s.a.mark((function e(){var t,n,a,l,c,o,u,i,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/voting-calc","/config.json"));case 2:return i=e.sent,e.next=5,i.json();case 5:m=e.sent,r(m.votetypes),j(null!==(t=m.guideurl)&&void 0!==t?t:"http://nymillennials.rocks"),w(null!==(n=m.season)&&void 0!==n?n:"?"),B(null!==(a=m.reverse)&&void 0!==a&&a),P(null!==(l=m.guideowner)&&void 0!==l?l:"our team"),D(null!==(c=m.idols)&&void 0!==c?c:[]),Q(null!==(o=m.siesta)&&void 0!==o&&o),ee(null!==(u=m.wimdys)&&void 0!==u?u:[]);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ge()}),[]),Object(a.useEffect)((function(){Z.length&&le(ve?Z:Object(u.a)(Z).sort((function(){return Math.random()-.5})))}),[ve,Z]),Object(a.useEffect)((function(){var e=d,t=c.map((function(e){var t=e.type,n=e.value;return me||"will"!==t?parseFloat(n):0})).reduce((function(e,t){return e+t}),0),n=1,a=0,l={};c.filter((function(e){return me||"will"!==e.type})).forEach((function(r,o){var u=r.label,i=r.value,s=r.includeInTotal;r.type;if(o===c.length-1)l[u]=e,s&&(a+=e);else{var m=parseFloat(i)*(1/t),b=Math.round(m/n*e)||Math.min(e,1);l[u]=b,s&&(a+=b),n-=m,e-=l[u]}})),C(l),N(a)}),[d,c,me]);var ye=function(){for(var e=z[0],t=1;t<z.length;t++){if(z[t].value>=R)return e;e=z[t]}return e}(),we=function(e){var t,n,a=je&&Z.length?" (~".concat((x["WIMDY!"]/Z.length).toFixed(2)," votes each)"):"",u=e.min?l.a.createElement("input",{type:"range",style:{marginLeft:"10px"},min:e.min,max:e.max,value:e.value,step:"0.01",onChange:function(t){return function(e,t){var n=[];c.forEach((function(a){if(a.label===e.label){var l=Object(o.a)({},a);l.value=t,n.push(l)}else n.push(a)})),r(n)}(e,t.target.value)}}):null;return l.a.createElement("div",{key:"".concat(e.label),className:"voteType",style:{color:e.value>.8?"white":"black",backgroundColor:"hsl(".concat(115,", ").concat(100,"%, ").concat((n=e.value,45-30*n),"%)")}},"".concat(e.label+("wimdy"===e.type?" *":""),": ").concat(null!==(t=x[e.label])&&void 0!==t?t:0," vote").concat(1===x[e.label]?"":"s").concat("").concat("wimdy"===e.type?a:""),u)};return l.a.createElement("div",{className:"container"},l.a.createElement("label",null,"How many votes do you have?"),l.a.createElement("input",{id:"votes",type:"number",inputMode:"numeric",pattern:"[0-9]*",min:"0",step:"1",value:d,onChange:function(e){return v(e.target.value)}}),l.a.createElement("button",{className:"showOptions",onClick:function(){return ue(!oe)}},oe?"Hide":"Show"," Options"),l.a.createElement("br",null),oe&&l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("label",{className:"option"},l.a.createElement("input",{type:"checkbox",defaultChecked:me,onClick:function(){return be(!me)}})," Include Wills"),l.a.createElement("label",{className:"option"},l.a.createElement("input",{type:"checkbox",defaultChecked:ve,onClick:function(){return he(!ve)}})," Keep Wimdys In Order"),l.a.createElement("label",{className:"option"},l.a.createElement("input",{type:"checkbox",defaultChecked:je,onClick:function(){return Ee(!je)}})," Show Wimdy Percentage Split"),l.a.createElement("br",null)),l.a.createElement("br",null),(V?c.slice(0).reverse():c).sort((function(e,t){return e.order-t.order})).filter((function(e){return me||"will"!==e.type})).map((function(e){return we(e)})),l.a.createElement("br",null),l.a.createElement("div",null,"Total Votes to Cast: ",I),!!z.length&&l.a.createElement("h2",null,"Idolize: ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.blaseball.com/player/".concat(ye.id)},ye.name)," (rolled ",R,")"),l.a.createElement("br",null),ae.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,"* Vote with your heart on any of the following: ",l.a.createElement("br",null),l.a.createElement("ul",null,ae.map((function(e){return l.a.createElement("li",{key:e},e)}))))):"",A?l.a.createElement("div",null,l.a.createElement("span",{style:{color:"red"}},"<3"),", The New York Millennials Voting Guide Team"):l.a.createElement("div",null,"Why these picks? ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:O},"Read ".concat(L,"'s awesome voting guide for Season ").concat(y,"!"))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.79b760bf.chunk.js.map